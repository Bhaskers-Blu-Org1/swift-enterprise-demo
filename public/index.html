<html>
<head>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js" type="text/javascript"></script>
    <script src="vendor/angular-websocket.min.js"></script>
    <script src="js/homeController.js"></script>
    <script src="js/autoScalingController.js"></script>
    <script src="js/circuitBreakerController.js"></script>
    <script src="index.js"></script>
</head>

<body ng-app="demoApp" ng-controller="homeController" ng-init="getInitData()">
    <div class="header">
        <div class="swift-logo"><img class="bird" src="assets/colorless_bird.svg"></div>
    </div>
    <div class="content">
        <h1>Swift Enterprise Demo</h1>
        <span class="tab" ng-class="{'active-tab': displayedTab == 'autoScaling'}" ng-click="displayedTab = 'autoScaling'">Auto-Scaling Demo</span>
        <span class="tab" ng-class="{'active-tab': displayedTab == 'circuitBreaker'}" ng-click="displayedTab = 'circuitBreaker'">Circuit Breaker Demo</span>
        <hr class="top-line" />
        <div ng-controller="autoScalingController as asCtrl" ng-if="displayedTab == 'autoScaling'">
            <p>
                <fieldset>
                    <legend>Request Memory Usage</legend>
                    <br>Memory to use: <input type="range" id="memoryToUse" name="memoryToUse" min="0" max="{{memoryMax}}" step="{{memoryStep}}" ng-model="asCtrl.memoryValue" ng-mouseup="asCtrl.requestMemory(asCtrl.memoryValue)" /> {{asCtrl.memoryValue}} MB</br>
                    <br>Status: <span id="memoryResponse">{{asCtrl.memoryMessage}}</span></br>
                </fieldset>
            </p>
        
            <p>
                <fieldset>
                    <legend>Request CPU Usage</legend>
                    <br>Memory to use: <input type="range" id="cpuToUse" name="cpuToUse" min="0" max="90" step="5" ng-model="asCtrl.cpuValue" ng-mouseup="asCtrl.requestCPU(asCtrl.cpuValue)" /> {{asCtrl.cpuValue}}%</br>
                    <br>Status: <span id="cpuResponse">{{asCtrl.cpuMessage}}</span></br>
                </fieldset>
            </p>
        </div>
    
        <div ng-controller="circuitBreakerController as cbCtrl" ng-if="displayedTab == 'circuitBreaker'">
            {{cbCtrl.message}}
        </div>
    </div>
</body>
</html>
